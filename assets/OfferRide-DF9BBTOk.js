import{j as e,r as s,c as a,u as r,a as l,b as t,d as i,P as n,e as d,I as c,f as o,g as u,h as p}from"./ui-CdBhIjHZ.js";import{C as m,b as x,c as h,d as j,a as v,B as y}from"./index-DCGLpGXa.js";import{I as f}from"./input-CjrF92sH.js";import{L as g}from"./label-DTBIM1Y9.js";import{c as b}from"./utils-f_7zD0yq.js";import{u as N}from"./index-DkokrSOd.js";import{H as w,g as k,X as R,I as C,N as S,i as D,l as E,J as _,U as A,D as P}from"./icons-qmpYOd28.js";import{M as q}from"./MapComponent-Dl03AF91.js";import{u as I}from"./index-BHTt414G.js";import"./supabase-BfaVHYeC.js";import"./vendor--zLKLCTa.js";import"./utils-BeLtu-UY.js";function T({className:s,...a}){return e.jsx("textarea",{"data-slot":"textarea",className:b("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),...a})}var L="Radio",[M,G]=t(L),[z,F]=M(L),O=s.forwardRef((a,r)=>{const{__scopeRadio:l,name:t,checked:i=!1,required:c,disabled:u,value:p="on",onCheck:m,form:x,...h}=a,[j,v]=s.useState(null),y=d(r,e=>v(e)),f=s.useRef(!1),g=!j||(x||!!j.closest("form"));return e.jsxs(z,{scope:l,checked:i,disabled:u,children:[e.jsx(n.button,{type:"button",role:"radio","aria-checked":i,"data-state":K(i),"data-disabled":u?"":void 0,disabled:u,value:p,...h,ref:y,onClick:o(a.onClick,e=>{i||null==m||m(),g&&(f.current=e.isPropagationStopped(),f.current||e.stopPropagation())})}),g&&e.jsx(H,{control:j,bubbles:!f.current,name:t,value:p,checked:i,required:c,disabled:u,form:x,style:{transform:"translateX(-100%)"}})]})});O.displayName=L;var V="RadioIndicator",B=s.forwardRef((s,a)=>{const{__scopeRadio:r,forceMount:l,...t}=s,i=F(V,r);return e.jsx(u,{present:l||i.checked,children:e.jsx(n.span,{"data-state":K(i.checked),"data-disabled":i.disabled?"":void 0,...t,ref:a})})});B.displayName=V;var H=s.forwardRef(({__scopeRadio:a,control:r,checked:l,bubbles:t=!0,...i},c)=>{const o=s.useRef(null),u=d(o,c),m=N(l),x=p(r);return s.useEffect(()=>{const e=o.current;if(!e)return;const s=window.HTMLInputElement.prototype,a=Object.getOwnPropertyDescriptor(s,"checked").set;if(m!==l&&a){const s=new Event("click",{bubbles:t});a.call(e,l),e.dispatchEvent(s)}},[m,l,t]),e.jsx(n.input,{type:"radio","aria-hidden":!0,defaultChecked:l,...i,tabIndex:-1,ref:u,style:{...i.style,...x,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function K(e){return e?"checked":"unchecked"}H.displayName="RadioBubbleInput";var U=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],W="RadioGroup",[J]=t(W,[a,G]),X=a(),Q=G(),[Y,Z]=J(W),$=s.forwardRef((s,a)=>{const{__scopeRadioGroup:t,name:d,defaultValue:c,value:o,required:u=!1,disabled:p=!1,orientation:m,dir:x,loop:h=!0,onValueChange:j,...v}=s,y=X(t),f=r(x),[g,b]=l({prop:o,defaultProp:c??null,onChange:j,caller:W});return e.jsx(Y,{scope:t,name:d,required:u,disabled:p,value:g,onValueChange:b,children:e.jsx(i,{asChild:!0,...y,orientation:m,dir:f,loop:h,children:e.jsx(n.div,{role:"radiogroup","aria-required":u,"aria-orientation":m,"data-disabled":p?"":void 0,dir:f,...v,ref:a})})})});$.displayName=W;var ee="RadioGroupItem",se=s.forwardRef((a,r)=>{const{__scopeRadioGroup:l,disabled:t,...i}=a,n=Z(ee,l),u=n.disabled||t,p=X(l),m=Q(l),x=s.useRef(null),h=d(r,x),j=n.value===i.value,v=s.useRef(!1);return s.useEffect(()=>{const e=e=>{U.includes(e.key)&&(v.current=!0)},s=()=>v.current=!1;return document.addEventListener("keydown",e),document.addEventListener("keyup",s),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",s)}},[]),e.jsx(c,{asChild:!0,...p,focusable:!u,active:j,children:e.jsx(O,{disabled:u,required:n.required,checked:j,...m,...i,name:n.name,ref:h,onCheck:()=>n.onValueChange(i.value),onKeyDown:o(e=>{"Enter"===e.key&&e.preventDefault()}),onFocus:o(i.onFocus,()=>{var e;v.current&&(null==(e=x.current)||e.click())})})})});se.displayName=ee;var ae=s.forwardRef((s,a)=>{const{__scopeRadioGroup:r,...l}=s,t=Q(r);return e.jsx(B,{...t,...l,ref:a})});ae.displayName="RadioGroupIndicator";var re=$,le=se,te=ae;function ie({className:s,...a}){return e.jsx(re,{"data-slot":"radio-group",className:b("grid gap-3",s),...a})}function ne({className:s,...a}){return e.jsx(le,{"data-slot":"radio-group-item",className:b("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",s),...a,children:e.jsx(te,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:e.jsx(w,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}function de(){const[a,r]=s.useState("wasel"),[l,t]=s.useState(""),[i,n]=s.useState(""),[d,c]=s.useState([]),[o,u]=s.useState(""),[p,b]=s.useState(!1),N=e=>({dubai:{lat:25.2048,lng:55.2708},"abu dhabi":{lat:24.4539,lng:54.3773},riyadh:{lat:24.7136,lng:46.6753},jeddah:{lat:21.5433,lng:39.1728},cairo:{lat:30.0444,lng:31.2357},alexandria:{lat:31.2001,lng:29.9187},doha:{lat:25.2867,lng:51.531}}[e.toLowerCase()]||{lat:25.2048,lng:55.2708}),w=()=>{if(o.trim()){const e=N(o);c([...d,{label:o,...e}]),u("")}};return e.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[e.jsxs("div",{children:[e.jsx("h1",{children:"Offer a Ride"}),e.jsx("p",{className:"text-gray-600",children:"Share your journey and help others reach their destination"})]}),e.jsxs(m,{children:[e.jsxs(x,{children:[e.jsx(h,{children:"Trip Details"}),e.jsx(j,{children:"Provide information about your journey"})]}),e.jsxs(v,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(g,{children:"Trip Type"}),e.jsxs(ie,{value:a,onValueChange:r,className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(ne,{value:"wasel",id:"wasel",className:"peer sr-only"}),e.jsx(g,{htmlFor:"wasel",className:"flex flex-col items-center justify-between rounded-lg border-2 border-gray-200 p-4 hover:bg-gray-50 peer-data-[state=checked]:border-primary peer-data-[state=checked]:bg-primary/5 cursor-pointer",children:e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("div",{className:"text-4xl",children:"→"}),e.jsx("p",{className:"font-medium",children:"Wasel (واصل)"}),e.jsx("p",{className:"text-sm text-gray-500",children:"One-way trip"})]})})]}),e.jsxs("div",{className:"relative",children:[e.jsx(ne,{value:"raje3",id:"raje3",className:"peer sr-only"}),e.jsx(g,{htmlFor:"raje3",className:"flex flex-col items-center justify-between rounded-lg border-2 border-gray-200 p-4 hover:bg-gray-50 peer-data-[state=checked]:border-primary peer-data-[state=checked]:bg-primary/5 cursor-pointer",children:e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("div",{className:"text-4xl",children:"↔"}),e.jsx("p",{className:"font-medium",children:"Raje3 (راجع)"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Return trip"})]})})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{children:"From"}),e.jsxs("div",{className:"relative",children:[e.jsx(k,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(f,{placeholder:"Starting location",className:"pl-10",value:l,onChange:e=>t(e.target.value)})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{children:"To"}),e.jsxs("div",{className:"relative",children:[e.jsx(k,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(f,{placeholder:"Destination",className:"pl-10",value:i,onChange:e=>n(e.target.value)})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(g,{children:"Stops Along the Way (Optional)"}),d.length>0&&e.jsx("div",{className:"space-y-2",children:d.map((s,a)=>e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-muted/50 rounded-lg",children:[e.jsx(k,{className:"w-4 h-4 text-secondary"}),e.jsx("span",{className:"flex-1",children:s.label}),e.jsx(y,{size:"sm",variant:"ghost",onClick:()=>(e=>{c(d.filter((s,a)=>a!==e))})(a),children:e.jsx(R,{className:"w-4 h-4"})})]},a))}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(k,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(f,{placeholder:"Add a stop (e.g., Dubai Marina)",className:"pl-10",value:o,onChange:e=>u(e.target.value),onKeyPress:e=>"Enter"===e.key&&w()})]}),e.jsxs(y,{type:"button",variant:"outline",onClick:w,className:"gap-2",children:[e.jsx(C,{className:"w-4 h-4"}),"Add Stop"]})]})]}),(l||i||d.length>0)&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(g,{children:"Route Preview"}),e.jsxs(y,{type:"button",size:"sm",variant:"outline",onClick:()=>b(!p),className:"gap-2",children:[e.jsx(S,{className:"w-4 h-4"}),p?"Hide Map":"Show Map"]})]}),p&&e.jsx(q,{locations:(()=>{if(!l&&!i&&0===d.length)return[];const e=[];if(l){const s=N(l);e.push({...s,label:l,type:"start"})}if(d.forEach(s=>{e.push({...s,type:"stop"})}),i){const s=N(i);e.push({...s,label:i,type:"destination"})}return e})(),showRoute:!0,height:"300px"})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{children:"Departure Date"}),e.jsxs("div",{className:"relative",children:[e.jsx(D,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(f,{type:"date",className:"pl-10"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{children:"Departure Time"}),e.jsxs("div",{className:"relative",children:[e.jsx(E,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(f,{type:"time",className:"pl-10"})]})]})]}),"raje3"===a&&e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 p-4 bg-secondary/5 rounded-lg",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{children:"Return Date"}),e.jsxs("div",{className:"relative",children:[e.jsx(D,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(f,{type:"date",className:"pl-10"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{children:"Return Time"}),e.jsxs("div",{className:"relative",children:[e.jsx(E,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(f,{type:"time",className:"pl-10"})]})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{children:"Vehicle Model"}),e.jsxs("div",{className:"relative",children:[e.jsx(_,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(f,{placeholder:"e.g., Toyota Camry",className:"pl-10"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{children:"Available Seats"}),e.jsxs("div",{className:"relative",children:[e.jsx(A,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(f,{type:"number",min:"1",max:"8",placeholder:"1-8 seats",className:"pl-10"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{children:"Price per Seat (USD)"}),e.jsxs("div",{className:"relative",children:[e.jsx(P,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(f,{type:"number",min:"0",step:"0.01",placeholder:"Enter price",className:"pl-10"})]}),e.jsx("p",{className:"text-sm text-gray-500",children:"Set a fair price based on distance and fuel costs"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{children:"Additional Notes (Optional)"}),e.jsx(T,{placeholder:"Any special instructions or requirements for riders...",className:"min-h-24"})]}),e.jsxs("div",{className:"flex gap-4 pt-4",children:[e.jsx(y,{variant:"outline",className:"flex-1",children:"Save as Draft"}),e.jsx(y,{className:"flex-1 bg-primary hover:bg-primary/90 text-primary-foreground",onClick:()=>{l&&i?I.success("Ride published successfully!"):I.error("Please enter starting location and destination")},children:"Publish Ride"})]})]})]}),e.jsxs(m,{children:[e.jsx(x,{children:e.jsx(h,{children:"Tips for a Great Ride"})}),e.jsx(v,{children:e.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[e.jsx("li",{children:"✓ Be punctual and communicate any delays"}),e.jsx("li",{children:"✓ Keep your vehicle clean and comfortable"}),e.jsx("li",{children:"✓ Set fair prices based on distance and fuel costs"}),e.jsx("li",{children:"✓ Be respectful and maintain good conversation"}),e.jsx("li",{children:"✓ Follow safety guidelines and traffic rules"})]})})]})]})}export{de as OfferRide};
