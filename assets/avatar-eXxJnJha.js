import{r as e,j as r,b as t,P as n,m as a,n as o}from"./ui-CdBhIjHZ.js";import{r as s}from"./vendor--zLKLCTa.js";import{c as u}from"./utils-f_7zD0yq.js";var i,c,l={exports:{}},d={};var f=(c||(c=1,l.exports=function(){if(i)return d;i=1;var e=s(),r="function"==typeof Object.is?Object.is:function(e,r){return e===r&&(0!==e||1/e==1/r)||e!=e&&r!=r},t=e.useState,n=e.useEffect,a=e.useLayoutEffect,o=e.useDebugValue;function u(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!r(e,n)}catch(a){return!0}}var c="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,r){return r()}:function(e,r){var s=r(),i=t({inst:{value:s,getSnapshot:r}}),c=i[0].inst,l=i[1];return a(function(){c.value=s,c.getSnapshot=r,u(c)&&l({inst:c})},[e,s,r]),n(function(){return u(c)&&l({inst:c}),e(function(){u(c)&&l({inst:c})})},[e]),o(s),s};return d.useSyncExternalStore=void 0!==e.useSyncExternalStore?e.useSyncExternalStore:c,d}()),l.exports);function v(){return()=>{}}var m="Avatar",[g]=t(m),[p,S]=g(m),w=e.forwardRef((t,a)=>{const{__scopeAvatar:o,...s}=t,[u,i]=e.useState("idle");return r.jsx(p,{scope:o,imageLoadingStatus:u,onImageLoadingStatusChange:i,children:r.jsx(n.span,{...s,ref:a})})});w.displayName=m;var x="AvatarImage";e.forwardRef((t,s)=>{const{__scopeAvatar:u,src:i,onLoadingStatusChange:c=()=>{},...l}=t,d=S(x,u),m=function(r,{referrerPolicy:t,crossOrigin:n}){const a=f.useSyncExternalStore(v,()=>!0,()=>!1),s=e.useRef(null),u=a?(s.current||(s.current=new window.Image),s.current):null,[i,c]=e.useState(()=>E(u,r));return o(()=>{c(E(u,r))},[u,r]),o(()=>{const e=e=>()=>{c(e)};if(!u)return;const r=e("loaded"),a=e("error");return u.addEventListener("load",r),u.addEventListener("error",a),t&&(u.referrerPolicy=t),"string"==typeof n&&(u.crossOrigin=n),()=>{u.removeEventListener("load",r),u.removeEventListener("error",a)}},[u,n,t]),i}(i,l),g=a(e=>{c(e),d.onImageLoadingStatusChange(e)});return o(()=>{"idle"!==m&&g(m)},[m,g]),"loaded"===m?r.jsx(n.img,{...l,ref:s,src:i}):null}).displayName=x;var y="AvatarFallback",j=e.forwardRef((t,a)=>{const{__scopeAvatar:o,delayMs:s,...u}=t,i=S(y,o),[c,l]=e.useState(void 0===s);return e.useEffect(()=>{if(void 0!==s){const e=window.setTimeout(()=>l(!0),s);return()=>window.clearTimeout(e)}},[s]),c&&"loaded"!==i.imageLoadingStatus?r.jsx(n.span,{...u,ref:a}):null});function E(e,r){return e?r?(e.src!==r&&(e.src=r),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}j.displayName=y;var h=w,L=j;function b({className:e,...t}){return r.jsx(h,{"data-slot":"avatar",className:u("relative flex size-10 shrink-0 overflow-hidden rounded-full",e),...t})}function A({className:e,...t}){return r.jsx(L,{"data-slot":"avatar-fallback",className:u("bg-muted flex size-full items-center justify-center rounded-full",e),...t})}export{b as A,A as a};
