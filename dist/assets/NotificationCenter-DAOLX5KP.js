import{c as Z,r as a,p as L,u as me,j as t,n as pe,o as D,v as B,s as R,Q as N,V as be,k as ee,W as T,J as U,B as y,X as q,C as J,N as ve,g as xe,G as Se}from"./index-BlO5FomV.js";import{B as G}from"./badge-Djeb3XUd.js";import{C as ge}from"./clock-iy2PHk1E.js";import{T as we,M as Ce}from"./triangle-alert-CocAR3lY.js";import{C as je}from"./car-BF0_kIXY.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M17 17H4a1 1 0 0 1-.74-1.673C4.59 13.956 6 12.499 6 8a6 6 0 0 1 .258-1.742",key:"178tsu"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.668 3.01A6 6 0 0 1 18 8c0 2.687.77 4.653 1.707 6.05",key:"1hqiys"}]],Pe=Z("bell-off",ye);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Q=Z("check",Ne);function Re(e,[o,r]){return Math.min(r,Math.max(o,e))}function Ee(e,o){return a.useReducer((r,s)=>o[r][s]??r,e)}var V="ScrollArea",[re]=pe(V),[Ae,x]=re(V),te=a.forwardRef((e,o)=>{const{__scopeScrollArea:r,type:s="hover",dir:n,scrollHideDelay:l=600,...c}=e,[i,d]=a.useState(null),[m,f]=a.useState(null),[p,h]=a.useState(null),[b,u]=a.useState(null),[C,j]=a.useState(null),[S,P]=a.useState(0),[E,k]=a.useState(0),[M,z]=a.useState(!1),[H,W]=a.useState(!1),v=L(o,A=>d(A)),g=me(n);return t.jsx(Ae,{scope:r,type:s,dir:g,scrollHideDelay:l,scrollArea:i,viewport:m,onViewportChange:f,content:p,onContentChange:h,scrollbarX:b,onScrollbarXChange:u,scrollbarXEnabled:M,onScrollbarXEnabledChange:z,scrollbarY:C,onScrollbarYChange:j,scrollbarYEnabled:H,onScrollbarYEnabledChange:W,onCornerWidthChange:P,onCornerHeightChange:k,children:t.jsx(D.div,{dir:g,...c,ref:v,style:{position:"relative","--radix-scroll-area-corner-width":S+"px","--radix-scroll-area-corner-height":E+"px",...e.style}})})});te.displayName=V;var oe="ScrollAreaViewport",ne=a.forwardRef((e,o)=>{const{__scopeScrollArea:r,children:s,nonce:n,...l}=e,c=x(oe,r),i=a.useRef(null),d=L(o,i,c.onViewportChange);return t.jsxs(t.Fragment,{children:[t.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),t.jsx(D.div,{"data-radix-scroll-area-viewport":"",...l,ref:d,style:{overflowX:c.scrollbarXEnabled?"scroll":"hidden",overflowY:c.scrollbarYEnabled?"scroll":"hidden",...e.style},children:t.jsx("div",{ref:c.onContentChange,style:{minWidth:"100%",display:"table"},children:s})})]})});ne.displayName=oe;var w="ScrollAreaScrollbar",le=a.forwardRef((e,o)=>{const{forceMount:r,...s}=e,n=x(w,e.__scopeScrollArea),{onScrollbarXEnabledChange:l,onScrollbarYEnabledChange:c}=n,i=e.orientation==="horizontal";return a.useEffect(()=>(i?l(!0):c(!0),()=>{i?l(!1):c(!1)}),[i,l,c]),n.type==="hover"?t.jsx(Te,{...s,ref:o,forceMount:r}):n.type==="scroll"?t.jsx(_e,{...s,ref:o,forceMount:r}):n.type==="auto"?t.jsx(se,{...s,ref:o,forceMount:r}):n.type==="always"?t.jsx(F,{...s,ref:o}):null});le.displayName=w;var Te=a.forwardRef((e,o)=>{const{forceMount:r,...s}=e,n=x(w,e.__scopeScrollArea),[l,c]=a.useState(!1);return a.useEffect(()=>{const i=n.scrollArea;let d=0;if(i){const m=()=>{window.clearTimeout(d),c(!0)},f=()=>{d=window.setTimeout(()=>c(!1),n.scrollHideDelay)};return i.addEventListener("pointerenter",m),i.addEventListener("pointerleave",f),()=>{window.clearTimeout(d),i.removeEventListener("pointerenter",m),i.removeEventListener("pointerleave",f)}}},[n.scrollArea,n.scrollHideDelay]),t.jsx(B,{present:r||l,children:t.jsx(se,{"data-state":l?"visible":"hidden",...s,ref:o})})}),_e=a.forwardRef((e,o)=>{const{forceMount:r,...s}=e,n=x(w,e.__scopeScrollArea),l=e.orientation==="horizontal",c=X(()=>d("SCROLL_END"),100),[i,d]=Ee("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return a.useEffect(()=>{if(i==="idle"){const m=window.setTimeout(()=>d("HIDE"),n.scrollHideDelay);return()=>window.clearTimeout(m)}},[i,n.scrollHideDelay,d]),a.useEffect(()=>{const m=n.viewport,f=l?"scrollLeft":"scrollTop";if(m){let p=m[f];const h=()=>{const b=m[f];p!==b&&(d("SCROLL"),c()),p=b};return m.addEventListener("scroll",h),()=>m.removeEventListener("scroll",h)}},[n.viewport,l,d,c]),t.jsx(B,{present:r||i!=="hidden",children:t.jsx(F,{"data-state":i==="hidden"?"hidden":"visible",...s,ref:o,onPointerEnter:R(e.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:R(e.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),se=a.forwardRef((e,o)=>{const r=x(w,e.__scopeScrollArea),{forceMount:s,...n}=e,[l,c]=a.useState(!1),i=e.orientation==="horizontal",d=X(()=>{if(r.viewport){const m=r.viewport.offsetWidth<r.viewport.scrollWidth,f=r.viewport.offsetHeight<r.viewport.scrollHeight;c(i?m:f)}},10);return _(r.viewport,d),_(r.content,d),t.jsx(B,{present:s||l,children:t.jsx(F,{"data-state":l?"visible":"hidden",...n,ref:o})})}),F=a.forwardRef((e,o)=>{const{orientation:r="vertical",...s}=e,n=x(w,e.__scopeScrollArea),l=a.useRef(null),c=a.useRef(0),[i,d]=a.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),m=ue(i.viewport,i.content),f={...s,sizes:i,onSizesChange:d,hasThumb:m>0&&m<1,onThumbChange:h=>l.current=h,onThumbPointerUp:()=>c.current=0,onThumbPointerDown:h=>c.current=h};function p(h,b){return He(h,c.current,i,b)}return r==="horizontal"?t.jsx(Le,{...f,ref:o,onThumbPositionChange:()=>{if(n.viewport&&l.current){const h=n.viewport.scrollLeft,b=K(h,i,n.dir);l.current.style.transform=`translate3d(${b}px, 0, 0)`}},onWheelScroll:h=>{n.viewport&&(n.viewport.scrollLeft=h)},onDragScroll:h=>{n.viewport&&(n.viewport.scrollLeft=p(h,n.dir))}}):r==="vertical"?t.jsx(ze,{...f,ref:o,onThumbPositionChange:()=>{if(n.viewport&&l.current){const h=n.viewport.scrollTop,b=K(h,i);l.current.style.transform=`translate3d(0, ${b}px, 0)`}},onWheelScroll:h=>{n.viewport&&(n.viewport.scrollTop=h)},onDragScroll:h=>{n.viewport&&(n.viewport.scrollTop=p(h))}}):null}),Le=a.forwardRef((e,o)=>{const{sizes:r,onSizesChange:s,...n}=e,l=x(w,e.__scopeScrollArea),[c,i]=a.useState(),d=a.useRef(null),m=L(o,d,l.onScrollbarXChange);return a.useEffect(()=>{d.current&&i(getComputedStyle(d.current))},[d]),t.jsx(ce,{"data-orientation":"horizontal",...n,ref:m,sizes:r,style:{bottom:0,left:l.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:l.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Y(r)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.x),onDragScroll:f=>e.onDragScroll(f.x),onWheelScroll:(f,p)=>{if(l.viewport){const h=l.viewport.scrollLeft+f.deltaX;e.onWheelScroll(h),he(h,p)&&f.preventDefault()}},onResize:()=>{d.current&&l.viewport&&c&&s({content:l.viewport.scrollWidth,viewport:l.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:I(c.paddingLeft),paddingEnd:I(c.paddingRight)}})}})}),ze=a.forwardRef((e,o)=>{const{sizes:r,onSizesChange:s,...n}=e,l=x(w,e.__scopeScrollArea),[c,i]=a.useState(),d=a.useRef(null),m=L(o,d,l.onScrollbarYChange);return a.useEffect(()=>{d.current&&i(getComputedStyle(d.current))},[d]),t.jsx(ce,{"data-orientation":"vertical",...n,ref:m,sizes:r,style:{top:0,right:l.dir==="ltr"?0:void 0,left:l.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Y(r)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.y),onDragScroll:f=>e.onDragScroll(f.y),onWheelScroll:(f,p)=>{if(l.viewport){const h=l.viewport.scrollTop+f.deltaY;e.onWheelScroll(h),he(h,p)&&f.preventDefault()}},onResize:()=>{d.current&&l.viewport&&c&&s({content:l.viewport.scrollHeight,viewport:l.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:I(c.paddingTop),paddingEnd:I(c.paddingBottom)}})}})}),[De,ae]=re(w),ce=a.forwardRef((e,o)=>{const{__scopeScrollArea:r,sizes:s,hasThumb:n,onThumbChange:l,onThumbPointerUp:c,onThumbPointerDown:i,onThumbPositionChange:d,onDragScroll:m,onWheelScroll:f,onResize:p,...h}=e,b=x(w,r),[u,C]=a.useState(null),j=L(o,v=>C(v)),S=a.useRef(null),P=a.useRef(""),E=b.viewport,k=s.content-s.viewport,M=N(f),z=N(d),H=X(p,10);function W(v){if(S.current){const g=v.clientX-S.current.left,A=v.clientY-S.current.top;m({x:g,y:A})}}return a.useEffect(()=>{const v=g=>{const A=g.target;(u==null?void 0:u.contains(A))&&M(g,k)};return document.addEventListener("wheel",v,{passive:!1}),()=>document.removeEventListener("wheel",v,{passive:!1})},[E,u,k,M]),a.useEffect(z,[s,z]),_(u,H),_(b.content,H),t.jsx(De,{scope:r,scrollbar:u,hasThumb:n,onThumbChange:N(l),onThumbPointerUp:N(c),onThumbPositionChange:z,onThumbPointerDown:N(i),children:t.jsx(D.div,{...h,ref:j,style:{position:"absolute",...h.style},onPointerDown:R(e.onPointerDown,v=>{v.button===0&&(v.target.setPointerCapture(v.pointerId),S.current=u.getBoundingClientRect(),P.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",b.viewport&&(b.viewport.style.scrollBehavior="auto"),W(v))}),onPointerMove:R(e.onPointerMove,W),onPointerUp:R(e.onPointerUp,v=>{const g=v.target;g.hasPointerCapture(v.pointerId)&&g.releasePointerCapture(v.pointerId),document.body.style.webkitUserSelect=P.current,b.viewport&&(b.viewport.style.scrollBehavior=""),S.current=null})})})}),O="ScrollAreaThumb",ie=a.forwardRef((e,o)=>{const{forceMount:r,...s}=e,n=ae(O,e.__scopeScrollArea);return t.jsx(B,{present:r||n.hasThumb,children:t.jsx(ke,{ref:o,...s})})}),ke=a.forwardRef((e,o)=>{const{__scopeScrollArea:r,style:s,...n}=e,l=x(O,r),c=ae(O,r),{onThumbPositionChange:i}=c,d=L(o,p=>c.onThumbChange(p)),m=a.useRef(void 0),f=X(()=>{m.current&&(m.current(),m.current=void 0)},100);return a.useEffect(()=>{const p=l.viewport;if(p){const h=()=>{if(f(),!m.current){const b=We(p,i);m.current=b,i()}};return i(),p.addEventListener("scroll",h),()=>p.removeEventListener("scroll",h)}},[l.viewport,f,i]),t.jsx(D.div,{"data-state":c.hasThumb?"visible":"hidden",...n,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:R(e.onPointerDownCapture,p=>{const b=p.target.getBoundingClientRect(),u=p.clientX-b.left,C=p.clientY-b.top;c.onThumbPointerDown({x:u,y:C})}),onPointerUp:R(e.onPointerUp,c.onThumbPointerUp)})});ie.displayName=O;var $="ScrollAreaCorner",de=a.forwardRef((e,o)=>{const r=x($,e.__scopeScrollArea),s=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&s?t.jsx(Me,{...e,ref:o}):null});de.displayName=$;var Me=a.forwardRef((e,o)=>{const{__scopeScrollArea:r,...s}=e,n=x($,r),[l,c]=a.useState(0),[i,d]=a.useState(0),m=!!(l&&i);return _(n.scrollbarX,()=>{var p;const f=((p=n.scrollbarX)==null?void 0:p.offsetHeight)||0;n.onCornerHeightChange(f),d(f)}),_(n.scrollbarY,()=>{var p;const f=((p=n.scrollbarY)==null?void 0:p.offsetWidth)||0;n.onCornerWidthChange(f),c(f)}),m?t.jsx(D.div,{...s,ref:o,style:{width:l,height:i,position:"absolute",right:n.dir==="ltr"?0:void 0,left:n.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function I(e){return e?parseInt(e,10):0}function ue(e,o){const r=e/o;return isNaN(r)?0:r}function Y(e){const o=ue(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=(e.scrollbar.size-r)*o;return Math.max(s,18)}function He(e,o,r,s="ltr"){const n=Y(r),l=n/2,c=o||l,i=n-c,d=r.scrollbar.paddingStart+c,m=r.scrollbar.size-r.scrollbar.paddingEnd-i,f=r.content-r.viewport,p=s==="ltr"?[0,f]:[f*-1,0];return fe([d,m],p)(e)}function K(e,o,r="ltr"){const s=Y(o),n=o.scrollbar.paddingStart+o.scrollbar.paddingEnd,l=o.scrollbar.size-n,c=o.content-o.viewport,i=l-s,d=r==="ltr"?[0,c]:[c*-1,0],m=Re(e,d);return fe([0,c],[0,i])(m)}function fe(e,o){return r=>{if(e[0]===e[1]||o[0]===o[1])return o[0];const s=(o[1]-o[0])/(e[1]-e[0]);return o[0]+s*(r-e[0])}}function he(e,o){return e>0&&e<o}var We=(e,o=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},s=0;return(function n(){const l={left:e.scrollLeft,top:e.scrollTop},c=r.left!==l.left,i=r.top!==l.top;(c||i)&&o(),r=l,s=window.requestAnimationFrame(n)})(),()=>window.cancelAnimationFrame(s)};function X(e,o){const r=N(e),s=a.useRef(0);return a.useEffect(()=>()=>window.clearTimeout(s.current),[]),a.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(r,o)},[r,o])}function _(e,o){const r=N(o);be(()=>{let s=0;if(e){const n=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(r)});return n.observe(e),()=>{window.cancelAnimationFrame(s),n.unobserve(e)}}},[e,r])}var Oe=te,Ie=ne,Be=de;function Ye({className:e,children:o,...r}){return t.jsxs(Oe,{"data-slot":"scroll-area",className:ee("relative",e),...r,children:[t.jsx(Ie,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:o}),t.jsx(Xe,{}),t.jsx(Be,{})]})}function Xe({className:e,orientation:o="vertical",...r}){return t.jsx(le,{"data-slot":"scroll-area-scrollbar",orientation:o,className:ee("flex touch-none p-px transition-colors select-none",o==="vertical"&&"h-full w-2.5 border-l border-l-transparent",o==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",e),...r,children:t.jsx(ie,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}function Ge(){const[e,o]=a.useState([]),[r,s]=a.useState("all");a.useEffect(()=>T.subscribe(o),[]);const n=u=>{switch(u){case"trip_request":case"trip_accepted":case"trip_rejected":case"trip_cancelled":case"driver_arrived":case"trip_started":case"trip_completed":return je;case"message":return Ce;case"payment_received":case"payment_sent":return Se;case"rating_reminder":return xe;case"verification_approved":case"verification_rejected":return ve;case"safety_alert":return we;default:return U}},l=u=>{switch(u){case"trip_accepted":case"verification_approved":case"payment_received":return"text-green-600";case"trip_rejected":case"trip_cancelled":case"verification_rejected":return"text-red-600";case"safety_alert":return"text-amber-600";default:return"text-primary"}},c=u=>({high:"destructive",medium:"default",low:"outline"})[u],i=r==="unread"?e.filter(u=>!u.read):e,d=e.filter(u=>!u.read).length,m=u=>{T.markAsRead(u)},f=u=>{T.deleteNotification(u)},p=()=>{T.markAllAsRead()},h=()=>{confirm("Are you sure you want to clear all notifications?")&&T.clearAll()},b=u=>{const j=new Date().getTime()-u.getTime(),S=Math.floor(j/6e4),P=Math.floor(j/36e5),E=Math.floor(j/864e5);return S<1?"Just now":S<60?`${S}m ago`:P<24?`${P}h ago`:E<7?`${E}d ago`:u.toLocaleDateString()};return t.jsxs("div",{className:"max-w-4xl mx-auto space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(U,{className:"size-6 text-primary"}),t.jsx("h1",{children:"Notifications"}),d>0&&t.jsxs(G,{className:"bg-accent text-accent-foreground",children:[d," new"]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(y,{variant:"outline",size:"sm",onClick:p,children:[t.jsx(Q,{className:"size-4 mr-2"}),"Mark all read"]}),t.jsxs(y,{variant:"outline",size:"sm",onClick:h,children:[t.jsx(q,{className:"size-4 mr-2"}),"Clear all"]})]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(y,{variant:r==="all"?"default":"outline",onClick:()=>s("all"),children:["All (",e.length,")"]}),t.jsxs(y,{variant:r==="unread"?"default":"outline",onClick:()=>s("unread"),children:["Unread (",d,")"]})]}),t.jsx(J,{children:t.jsx(Ye,{className:"h-[600px]",children:i.length===0?t.jsxs("div",{className:"p-12 text-center",children:[t.jsx(Pe,{className:"size-12 text-muted-foreground mx-auto mb-4"}),t.jsx("h3",{className:"text-muted-foreground",children:"No notifications"}),t.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:r==="unread"?"You're all caught up!":"You don't have any notifications yet"})]}):t.jsx("div",{className:"divide-y",children:i.map(u=>{const C=n(u.type),j=l(u.type);return t.jsx("div",{className:`p-4 hover:bg-muted/50 transition-colors ${u.read?"":"bg-muted/30"}`,children:t.jsxs("div",{className:"flex gap-4",children:[t.jsx("div",{className:`size-10 rounded-full bg-muted flex items-center justify-center flex-shrink-0 ${j}`,children:t.jsx(C,{className:"size-5"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[t.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[t.jsx("p",{className:"font-semibold",children:u.title}),!u.read&&t.jsx("div",{className:"size-2 rounded-full bg-primary"})]}),t.jsx(G,{variant:c(u.priority),className:"flex-shrink-0",children:u.priority})]}),t.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:u.message}),t.jsxs("div",{className:"flex items-center justify-between gap-2 flex-wrap",children:[t.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[t.jsx(ge,{className:"size-3"}),b(u.timestamp)]}),t.jsxs("div",{className:"flex items-center gap-2",children:[u.actionUrl&&t.jsx(y,{variant:"link",size:"sm",className:"h-auto p-0",children:"View Details"}),!u.read&&t.jsxs(y,{variant:"ghost",size:"sm",onClick:()=>m(u.id),children:[t.jsx(Q,{className:"size-4 mr-1"}),"Mark read"]}),t.jsx(y,{variant:"ghost",size:"sm",onClick:()=>f(u.id),children:t.jsx(q,{className:"size-4"})})]})]})]})]})},u.id)})})})}),t.jsx(J,{className:"p-4 bg-muted/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(U,{className:"size-5 text-muted-foreground"}),t.jsx("p",{className:"text-sm",children:"Enable browser notifications to stay updated"})]}),t.jsx(y,{variant:"outline",size:"sm",onClick:()=>T.requestPermission(),children:"Enable Notifications"})]})})]})}export{Ge as NotificationCenter};
