import{r as t,j as e,g as M,B as r,P as B,M as P,h as S,f as T,U as R,D as z,C as A,b as H,d as E,e as W,a as D,i as g,I as u,A as I,t as $}from"./index-BlO5FomV.js";import{B as k}from"./badge-Djeb3XUd.js";import{D as J,a as L,b as V,c as q}from"./dialog-J95OrPo5.js";import{M as K}from"./MapComponent-iD1FTxJ7.js";import{A as Q,a as U}from"./avatar-0JyUYbOB.js";import{M as C}from"./map-pin-Cjx9PomE.js";import{C as G}from"./clock-iy2PHk1E.js";function X({trip:s,open:f,onClose:d,onBook:m}){var x,h,p,j,c,N,y,b,w;const[l,o]=t.useState(1);if(!s)return null;const v=[{lat:((h=(x=s.stops)==null?void 0:x[0])==null?void 0:h.lat)||25.2048,lng:((j=(p=s.stops)==null?void 0:p[0])==null?void 0:j.lng)||55.2708,label:s.from,type:"start"},...((c=s.stops)==null?void 0:c.slice(1,-1).map((n,i)=>({lat:n.lat,lng:n.lng,label:n.label,type:"stop"})))||[],{lat:((y=(N=s.stops)==null?void 0:N[s.stops.length-1])==null?void 0:y.lat)||24.4539,lng:((w=(b=s.stops)==null?void 0:b[s.stops.length-1])==null?void 0:w.lng)||54.3773,label:s.to,type:"destination"}];return e.jsx(J,{open:f,onOpenChange:d,children:e.jsxs(L,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsx(V,{children:e.jsx(q,{children:"Trip Details"})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx(Q,{className:"w-16 h-16",children:e.jsx(U,{className:"bg-primary text-primary-foreground text-xl",children:s.driver.initials})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{children:s.driver.name}),e.jsxs("div",{className:"flex items-center gap-3 text-sm text-muted-foreground mt-1",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(M,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),e.jsx("span",{children:s.driver.rating})]}),e.jsx("span",{children:"â€¢"}),e.jsxs("span",{children:[s.driver.trips," trips completed"]})]}),e.jsxs("div",{className:"flex gap-2 mt-3",children:[e.jsxs(r,{size:"sm",variant:"outline",className:"gap-2",children:[e.jsx(B,{className:"w-4 h-4"}),"Call"]}),e.jsxs(r,{size:"sm",variant:"outline",className:"gap-2",children:[e.jsx(P,{className:"w-4 h-4"}),"Message"]})]})]}),e.jsx(k,{variant:s.tripType==="wasel"?"default":"secondary",children:s.tripType==="wasel"?"Wasel (ÙˆØ§ØµÙ„)":"Raje3 (Ø±Ø§Ø¬Ø¹)"})]}),e.jsx(S,{}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{children:"Route & Stops"}),e.jsx(K,{locations:v,showRoute:!0,height:"350px"})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{children:"Trip Information"}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(C,{className:"w-5 h-5 text-primary mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Route"}),e.jsxs("p",{children:[s.from," â†’ ",s.to]})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(T,{className:"w-5 h-5 text-primary mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Date"}),e.jsx("p",{children:s.date})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(G,{className:"w-5 h-5 text-primary mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Departure Time"}),e.jsx("p",{children:s.time})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{children:"Booking Details"}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(R,{className:"w-5 h-5 text-primary mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Available Seats"}),e.jsxs("p",{children:[s.seats," seats left"]})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(z,{className:"w-5 h-5 text-primary mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Price per Seat"}),e.jsxs("p",{className:"text-2xl text-primary",children:["$",s.price]})]})]}),s.vehicleModel&&e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-5 h-5 flex items-center justify-center mt-0.5",children:"ðŸš—"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Vehicle"}),e.jsx("p",{children:s.vehicleModel})]})]})]})]}),s.stops&&s.stops.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(S,{}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{children:"Stops Along the Way"}),e.jsx("div",{className:"space-y-2",children:s.stops.map((n,i)=>e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-muted/50 rounded-lg",children:[e.jsx("div",{className:`
                        w-6 h-6 rounded-full flex items-center justify-center text-xs
                        ${i===0?"bg-primary text-primary-foreground":i===s.stops.length-1?"bg-accent text-accent-foreground":"bg-secondary text-secondary-foreground"}
                      `,children:i===0?"A":i===s.stops.length-1?"B":i}),e.jsx("p",{children:n.label})]},i))})]})]}),s.notes&&e.jsxs(e.Fragment,{children:[e.jsx(S,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{children:"Additional Notes"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.notes})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted/30 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Number of Seats"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(r,{size:"sm",variant:"outline",onClick:()=>o(Math.max(1,l-1)),disabled:l<=1,children:"-"}),e.jsx("span",{className:"w-8 text-center",children:l}),e.jsx(r,{size:"sm",variant:"outline",onClick:()=>o(Math.min(s.seats,l+1)),disabled:l>=s.seats,children:"+"})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Price"}),e.jsxs("p",{className:"text-2xl text-primary",children:["$",s.price*l]})]})]}),e.jsxs(r,{size:"lg",className:"bg-primary hover:bg-primary/90 text-primary-foreground",onClick:()=>{m&&m(s.id),d()},children:["Book ",l," Seat",l>1?"s":""]})]})]})]})})}function ie(){const[s,f]=t.useState(""),[d,m]=t.useState(""),[l,o]=t.useState(""),[v,x]=t.useState("1"),[h,p]=t.useState(null),[j,c]=t.useState(!1),[N,y]=t.useState(!1),[b,w]=t.useState("match"),[n,i]=t.useState({priceRange:[0,200],minRating:4,verifiedOnly:!1,instantBook:!1,preferences:{noSmoking:!1,petsAllowed:!1,musicOk:!1,quietRide:!1}}),F=a=>{p(a),c(!0)},O=a=>{$.success('Trip booked successfully! Check "My Trips" for details.')};return e.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[e.jsxs(A,{children:[e.jsxs(H,{children:[e.jsx(E,{children:"Find a Ride"}),e.jsx(W,{children:"Search for available rides across the Middle East"})]}),e.jsxs(D,{children:[e.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{children:"From"}),e.jsxs("div",{className:"relative",children:[e.jsx(C,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(u,{placeholder:"Starting location",value:s,onChange:a=>f(a.target.value),className:"pl-10"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{children:"To"}),e.jsxs("div",{className:"relative",children:[e.jsx(C,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(u,{placeholder:"Destination",value:d,onChange:a=>m(a.target.value),className:"pl-10"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{children:"Date"}),e.jsxs("div",{className:"relative",children:[e.jsx(T,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(u,{type:"date",value:l,onChange:a=>o(a.target.value),className:"pl-10"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{children:"Passengers"}),e.jsxs("div",{className:"relative",children:[e.jsx(R,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(u,{type:"number",min:"1",max:"8",value:v,onChange:a=>x(a.target.value),className:"pl-10"})]})]})]}),e.jsx(r,{className:"w-full md:w-auto mt-4 bg-primary hover:bg-primary/90 text-primary-foreground",children:"Search Rides"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h2",{children:"Available Rides"}),e.jsx("div",{className:"space-y-4",children:Y.map(a=>e.jsx(A,{className:"hover:shadow-md transition-shadow",children:e.jsx(D,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center",children:e.jsx("span",{children:a.driver.initials})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:a.driver.name}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(M,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),e.jsx("span",{children:a.driver.rating}),e.jsx("span",{children:"â€¢"}),e.jsxs("span",{children:[a.driver.trips," trips"]})]})]})]}),e.jsx("div",{className:"flex-1 flex items-center gap-4",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx("span",{className:"font-medium",children:a.from}),e.jsx(I,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"font-medium",children:a.to})]}),e.jsxs("div",{className:"flex items-center gap-4 mt-1 text-sm text-gray-600",children:[e.jsx("span",{children:a.date}),e.jsx("span",{children:"â€¢"}),e.jsx("span",{children:a.time}),e.jsx("span",{children:"â€¢"}),e.jsxs("span",{children:[a.seats," seats left"]})]})]})}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-2xl text-primary",children:["$",a.price]}),e.jsx("p",{className:"text-sm text-gray-500",children:"per seat"})]}),a.tripType&&e.jsx(k,{variant:a.tripType==="wasel"?"default":"secondary",children:a.tripType==="wasel"?"Wasel (ÙˆØ§ØµÙ„)":"Raje3 (Ø±Ø§Ø¬Ø¹)"}),e.jsx(r,{className:"bg-primary hover:bg-primary/90 text-primary-foreground",onClick:()=>F(a),children:"View Details"})]})]})})},a.id))})]}),e.jsx(X,{trip:h,open:j,onClose:()=>c(!1),onBook:O})]})}const Y=[{id:1,driver:{name:"Ahmed Hassan",initials:"AH",rating:4.8,trips:127,phone:"+971 50 123 4567"},from:"Dubai",to:"Abu Dhabi",stops:[{label:"Dubai Mall",lat:25.1972,lng:55.2744},{label:"Dubai Marina",lat:25.0805,lng:55.1396},{label:"Jebel Ali",lat:24.9857,lng:55.0272},{label:"Abu Dhabi Downtown",lat:24.4539,lng:54.3773}],date:"Oct 3, 2025",time:"08:00 AM",seats:3,price:45,tripType:"wasel",vehicleModel:"Toyota Camry 2023",notes:"Air-conditioned vehicle. Please be on time."},{id:2,driver:{name:"Sarah Mohammed",initials:"SM",rating:4.9,trips:234,phone:"+966 50 987 6543"},from:"Riyadh",to:"Jeddah",stops:[{label:"Riyadh City Center",lat:24.7136,lng:46.6753},{label:"Al Qassim",lat:26.326,lng:43.975},{label:"Medina",lat:24.5247,lng:39.5692},{label:"Jeddah Corniche",lat:21.5433,lng:39.1728}],date:"Oct 5, 2025",time:"06:00 AM",seats:2,price:120,tripType:"raje3",vehicleModel:"Honda Accord 2024",notes:"Return trip on Oct 7. Family-friendly ride."},{id:3,driver:{name:"Omar Abdullah",initials:"OA",rating:4.7,trips:98,phone:"+20 10 1234 5678"},from:"Cairo",to:"Alexandria",stops:[{label:"Cairo Downtown",lat:30.0444,lng:31.2357},{label:"Giza Pyramids",lat:29.9792,lng:31.1342},{label:"Wadi El Natrun",lat:30.3833,lng:30.35},{label:"Alexandria Corniche",lat:31.2001,lng:29.9187}],date:"Oct 4, 2025",time:"10:00 AM",seats:4,price:35,tripType:"wasel",vehicleModel:"Hyundai Elantra 2023",notes:"Comfortable ride with refreshments included."},{id:4,driver:{name:"Fatima Ali",initials:"FA",rating:5,trips:156,phone:"+974 5555 1234"},from:"Doha",to:"Al Khor",stops:[{label:"Doha Souq",lat:25.2867,lng:51.531},{label:"Lusail City",lat:25.4295,lng:51.4932},{label:"Al Khor Mall",lat:25.681,lng:51.4969}],date:"Oct 3, 2025",time:"02:00 PM",seats:3,price:25,tripType:"wasel",vehicleModel:"Nissan Altima 2024",notes:"Women and families only. Quiet and safe ride."}];export{ie as FindRide};
